<main>
  <div class="flex flex-row flex-wrap items-stretch !my-8">
    <% tags.each do |tag| %>
      <a href="/tags/<%= tag %>" class="block border rounded-md py-0 px-2 my-1 mr-2 no-underline font-normal <%= tag == current_tag ? "bg-slate-500 !text-slate-100 border-slate-600" : "bg-slate-100 !text-slate-800 border-slate-200" %>"><%= tag %></a>
    <% end %>
  </div>
  <p>Tagged with <a href="/tags/<%= current_tag %>"><%= current_tag %></a>:</p>
  <ul>
    <% pages.filter { _1["tags"].include?(current_tag) && !_1["hide_from_toc"] }.each do |page| %>
      <li>
        <a href="<%= page["page_path"] %>"><%= page["title"] %></a>
        <% if page["published_at"] %>
          <small><time datetime="<%= page["published_at"].to_time %>"><%= page["published_at"].strftime("%Y/%m/%d") %></time></small>
        <% end %>
      </li>
    <% end %>
  </ul>
</main>
